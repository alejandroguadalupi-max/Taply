<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b0f1a" />
  <title>Taply — Sube la valoración de tu negocio sin esfuerzo</title>
  <meta name="description" content="Sé un imán de clientes con Taply: más y mejores reseñas online con tecnología NFC. Convierte opiniones positivas en reseñas de Google y aprende de las negativas." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0b0f1a; --bg-2:#0e1424; --txt:#e9eefc; --muted:#94a3b8;
      --brand-1:#00d4ff; --brand-2:#7c3aed;
      --radius:20px; --shadow:0 10px 30px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.04);
      --arrowSize:56px; --edgePad:calc(var(--arrowSize) + 28px);
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;scroll-behavior:smooth}

    /* Fondo */
    body{
      font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:var(--bg); color:var(--txt);
      opacity:0; transform:translateY(4px);
      transition:opacity .35s ease, transform .35s ease;
    }
    body.is-loaded{opacity:1;transform:none}
    a{color:inherit;text-decoration:none}
    .container{width:min(1200px,92%);margin-inline:auto}
    body::before{
      content:"";position:fixed;inset:0;z-index:-1;pointer-events:none;
      background-image: radial-gradient(rgba(255,255,255,.08) 1px, transparent 1.6px);
      background-size:26px 26px;opacity:.12
    }
    body::after{
      content:"";position:fixed;inset:-10%;z-index:-1;pointer-events:none;
      background:
        radial-gradient(circle at 12% 18%, rgba(255,255,255,.9) 1.2px, transparent 1.6px),
        radial-gradient(circle at 28% 72%, rgba(255,255,255,.9) 1.2px, transparent 1.6px),
        radial-gradient(circle at 45% 25%, rgba(255,255,255,.9) 1.4px, transparent 1.8px),
        radial-gradient(circle at 63% 66%, rgba(255,255,255,.9) 1.2px, transparent 1.6px),
        radial-gradient(circle at 80% 30%, rgba(255,255,255,.9) 1.3px, transparent 1.7px),
        radial-gradient(circle at 14% 88%, rgba(255,255,255,.9) 1.1px, transparent 1.5px),
        radial-gradient(circle at 88% 84%, rgba(255,255,255,.9) 1.2px, transparent 1.6px),
        radial-gradient(circle at 6% 52%,  rgba(255,255,255,.9) 1.3px, transparent 1.7px);
      background-repeat:no-repeat;filter:drop-shadow(0 0 6px rgba(255,255,255,.22));opacity:.28
    }

    /* Header */
    header{position:sticky;top:0;z-index:60;background:#0a0f16cc;border-bottom:1px solid rgba(255,255,255,.06);backdrop-filter:blur(10px)}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0; position:relative}
    .brand{display:flex;gap:10px;align-items:center;font-weight:800;letter-spacing:.3px}
    .brand-logo{width:34px;height:34px;border-radius:10px;background:linear-gradient(135deg,var(--brand-1),var(--brand-2));display:grid;place-items:center;box-shadow:0 8px 22px rgba(124,58,237,.35)}
    .brand-logo svg{width:20px;height:20px}
    .nav-links{display:flex;gap:22px;align-items:center}
    .ghost{padding:10px 14px;border-radius:999px;border:1px solid rgba(255,255,255,.12);color:var(--txt)}
    .menu{display:none}

    /* Menú móvil */
    .mobile-menu{position:absolute; left:0; right:0; top:100%; display:none; padding:14px; background:#0b0f1a; border-top:1px solid rgba(255,255,255,.08); box-shadow:0 16px 40px rgba(0,0,0,.45)}
    .mobile-links{display:flex;flex-direction:column;gap:10px}
    .mobile-links .ghost{background:rgba(255,255,255,.02); border-color:rgba(255,255,255,.18)}
    .mobile-links .btn{width:100%; justify-content:center}

    /* Botón */
    .btn{
      --p:14px 18px; background:linear-gradient(135deg,var(--brand-1),var(--brand-2));
      color:#061017;font-weight:700;border:0;border-radius:999px;cursor:pointer;
      padding:var(--p);display:inline-flex;align-items:center;gap:8px;
      box-shadow:0 10px 30px rgba(124,58,237,.35), 0 4px 14px rgba(0,212,255,.25);
      position:relative; overflow:hidden; transform:translateZ(0);
      transition:transform .15s ease, box-shadow .2s ease, filter .2s ease;
    }
    .btn:hover{ transform:translateY(-2px) }
    .btn:active{ transform:translateY(0); filter:saturate(1.1) }
    .btn::before{content:""; position:absolute; inset:-2px; background:linear-gradient(120deg, rgba(255,255,255,0) 35%, rgba(255,255,255,.35) 48%, rgba(255,255,255,0) 62%); transform:translateX(-120%); transition:transform .5s ease; mix-blend-mode:overlay}
    .btn:hover::before{ transform:translateX(120%) }
    .btn .ripple{position:absolute; border-radius:50%; transform:translate(-50%,-50%); background:rgba(255,255,255,.45); pointer-events:none; animation:ripple .6s ease forwards; mix-blend-mode:soft-light}
    @keyframes ripple{from{width:0;height:0;opacity:.6}to{width:420px;height:420px;opacity:0}}

    /* Tipografía y hero */
    .hero{padding:64px 0 40px; text-align:center}
    .hero-grid{display:grid;grid-template-columns:1fr;gap:18px;justify-items:center}
    h1,h2,h3,p{ text-align:center }
    h1{font-size:clamp(2rem,4.5vw,3.2rem);line-height:1.1;margin:10px 0 6px}
    .lead{color:var(--muted);font-size:1.05rem;max-width:900px;margin:0 auto}
    .cta-row{display:flex;gap:14px;flex-wrap:wrap;justify-content:center;margin-top:18px}
    .pills{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:10px}
    .pill{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);padding:10px 14px;border-radius:999px}

    /* Secciones */
    section{padding:56px 0}
    .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .card{background:var(--bg-2);border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow);text-align:center}
    .card h3{margin:.2rem 0 .6rem}
    .card p{color:var(--muted);margin:0}

    /* Opiniones con flechas azules */
    .reviews{position:relative;margin:36px 0}
    .reviews h2{margin:0 0 14px}
    .reviews-window{position:relative;overflow:hidden}
    .reviews-window::before,
    .reviews-window::after{
      content:"";position:absolute;top:0;bottom:0;width:calc(var(--edgePad) - 8px);
      pointer-events:none;z-index:3;
      background:linear-gradient(90deg, rgba(11,15,26,1) 0%, rgba(11,15,26,.7) 55%, rgba(11,15,26,0) 100%);
    }
    .reviews-window::before{ left:0 } .reviews-window::after{ right:0; transform:scaleX(-1) }
    .reviews-track{
      display:flex;gap:22px;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;
      padding:0 var(--edgePad);scroll-padding:0 var(--edgePad);scrollbar-width:none;
      overscroll-behavior-x: contain; touch-action: pan-y;
    }
    .reviews-track::-webkit-scrollbar{display:none}
    .review-card{
      flex:0 0 clamp(360px, 40vw, 480px);max-width:520px;
      background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
      border:1px solid rgba(255,255,255,.1);
      border-radius:16px;padding:20px;scroll-snap-align:center;scroll-snap-stop:normal;
      text-align:left;box-shadow:0 20px 50px rgba(0,0,0,.35);transition:transform .2s ease, border-color .2s ease;
    }
    .review-card:hover{ transform:translateY(-2px); border-color:rgba(255,255,255,.16) }
    .review-header{display:flex;align-items:center;gap:12px;margin-bottom:8px}
    .review-avatar{width:54px;height:54px;border-radius:999px;overflow:hidden;flex:0 0 54px;border:1px solid rgba(255,255,255,.14);box-shadow:0 10px 22px rgba(124,58,237,.25)}
    .review-avatar img{width:100%;height:100%;object-fit:cover;display:block}
    .review-name{font-weight:700}
    .review-stars{color:#fbbf24;font-size:18px;letter-spacing:2px}
    .review-text{color:#c9d3e6;margin:6px 0 12px}

    .reviews-nav{
      position:absolute; top:0; bottom:0; left:0; right:0; pointer-events:none;
      display:flex; align-items:center; justify-content:space-between;
      padding:0 calc(var(--edgePad) - (var(--arrowSize) / 2));
      z-index:4;
    }
    .nav-btn{
      pointer-events:auto;border:0;cursor:pointer;width:var(--arrowSize);height:var(--arrowSize);border-radius:999px;
      display:grid;place-items:center;font-size:22px;font-weight:900;color:#061017;
      background:radial-gradient(120% 120% at 30% 20%, #3b82f6 .6, #00d4ff .55);
      box-shadow:0 15px 35px rgba(0,0,0,.35), 0 0 0 1px rgba(255,255,255,.08) inset;
      transition:opacity .2s ease, transform .15s ease;
    }
    .nav-btn:active{transform:scale(.97)}
    .nav-btn.disabled{background:#263241;color:#94a3b8;box-shadow:none;cursor:not-allowed;opacity:.7}

    /* FAQ */
    .faq{max-width:900px;margin-inline:auto}
    .acc{border:1px solid rgba(255,255,255,.10);border-radius:16px;overflow:hidden;background:rgba(255,255,255,.02);box-shadow:var(--shadow)}
    .acc-item + .acc-item{border-top:1px solid rgba(255,255,255,.08)}
    .acc-btn{width:100%;background:transparent;border:0;color:var(--txt);
      padding:18px 20px;font-size:1rem;font-weight:700;
      display:flex;justify-content:center;align-items:center;gap:10px;text-align:center}
    .acc-panel{max-height:0;overflow:hidden;transition:max-height .3s ease}
    .acc-panel > div{padding:0 20px 18px;color:var(--muted);text-align:center}

    /* Footer */
    footer{padding:40px 0;color:#b7c3d2;border-top:1px solid rgba(255,255,255,.06)}
    footer .cols{display:grid;grid-template-columns:2fr 1fr 1fr;gap:20px}
    footer a{color:#dbeafe}
    footer p{text-align:center}

    /* Sociales */
    .socials{padding:24px 0 16px;border-top:1px solid rgba(255,255,255,.06)}
    .socials .row{display:flex;justify-content:center;gap:18px}
    .socials a{width:54px;height:54px;border-radius:999px;display:grid;place-items:center;border:1px solid rgba(255,255,255,.25); color:#fff; opacity:.95;transition:transform .15s ease, opacity .2s ease, border-color .2s ease}
    .socials a:hover{transform:translateY(-2px);opacity:1;border-color:#fff}
    .socials svg{width:24px;height:24px;display:block}

    /* Cookie bar */
    .cookiebar{position:fixed;left:0;right:0;bottom:0;z-index:50;background:#0a0f16;color:#dbeafe;border-top:1px solid rgba(255,255,255,.08);display:flex;align-items:center;gap:14px;justify-content:space-between;padding:12px 16px}
    .cookiebar p{margin:0;font-size:.95rem;text-align:left}
    .cookiebar .btn-accept{background:#6366f1;border:0;color:#fff;border-radius:8px;padding:8px 16px;cursor:pointer}

    /* Móvil */
    @media (max-width: 768px){
      :root{ --arrowSize:48px; --edgePad:72px; }
      section{padding:48px 0}
      header{background:#0a0f16}
      .grid-3{grid-template-columns:1fr}
      .nav-links{display:none}
      .menu{
        display:block;
        background:#0f172a; color:#e9eefc;
        border:1px solid rgba(255,255,255,.28);
        box-shadow:0 8px 24px rgba(0,0,0,.45);
        padding:10px 14px; border-radius:999px;
      }
      .menu:hover{filter:brightness(1.08)}
      .menu:active{transform:translateY(1px)}
      .cookiebar{flex-direction:column;align-items:flex-start;gap:10px}
    }

    @media (prefers-reduced-motion: reduce){
      *{animation:none !important; transition:none !important}
    }

    /* === ADDON CUENTA (no rompe estilos existentes) === */
    #acct-modal.acct-hidden{display:none!important}
    #acct-modal{position:fixed;inset:0;background:rgba(6,10,18,.6);backdrop-filter:blur(8px);display:grid;place-items:center;z-index:1000}
    .acct-dialog{width:min(520px,92%);background:var(--bg-2,#0e1424);color:var(--txt,#e9eefc);
      border:1px solid var(--border,rgba(255,255,255,.08));border-radius:16px;box-shadow:var(--shadow);
      padding:20px}
    .acct-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
    .acct-x{background:transparent;border:0;color:inherit;font-size:22px;cursor:pointer}
    .acct-tabs{display:flex;gap:8px;margin:10px 0 12px}
    .acct-tab{border:1px solid var(--border,rgba(255,255,255,.12));background:rgba(255,255,255,.04);
      border-radius:999px;padding:8px 12px;cursor:pointer;color:inherit;font-weight:700}
    .acct-tab.acct-tab-active{background:linear-gradient(135deg,var(--brand-1,#00d4ff),var(--brand-2,#7c3aed));
      color:#061017}
    .acct-form{display:grid;gap:10px}
    .acct-form label{display:grid;gap:6px;font-weight:600}
    .acct-form input{background:#0a0f16;border:1px solid var(--border,rgba(255,255,255,.12));color:inherit;
      border-radius:12px;padding:12px}
    .acct-msg{color:#cfe3ff;margin:0 0 8px;font-size:.95rem}
    .acct-err{color:#fca5a5}
    .acct-row{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}
    .acct-badge{display:inline-block;border:1px solid var(--border,rgba(255,255,255,.12));
      background:rgba(255,255,255,.04);padding:6px 10px;border-radius:999px;font-weight:800}
    .acct-small{color:var(--muted,#9fb0c6);font-size:.92rem;margin-top:6px}
    .acct-link{color:#b3e1ff;text-decoration:underline;cursor:pointer}
  </style>
</head>

<body>
  <!-- HEADER -->
  <header>
    <div class="container nav">
      <!-- LOGO/TÍTULO -> suscripciones.html -->
      <a class="brand" href="suscripciones.html">
        <span class="brand-logo" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none"><path d="M5 12a7 7 0 1114 0v6.5a2.5 2.5 0 01-5 0V9.75a2.25 2.25 0 10-4.5 0V18.5a2.5 2.5 0 01-5 0V12z" stroke="#061017" stroke-width="1.7"/></svg>
        </span>
        <span>taply</span>
      </a>

      <!-- MENÚ (se completa con “Tu plan / Mi suscripción” si hay sesión) -->
      <nav class="nav-links">
        <a class="ghost" href="#beneficios">Beneficios</a>
        <a class="ghost" href="#como-funciona">Cómo funciona</a>
        <a class="ghost" href="#reviews">Opiniones</a>
        <a class="ghost" href="suscripciones.html">Suscripciones</a>
        <a class="btn" href="suscripciones.html">¡Comenzar ahora!</a>
        <!-- Slot dinámico -->
        <span id="acct-nav-slot" style="display:inline-flex;gap:10px;align-items:center"></span>
      </nav>

      <button class="menu ghost" id="menuBtn" aria-expanded="false" aria-controls="mobileMenu">Menú</button>
    </div>

    <!-- MENÚ MÓVIL -->
    <div class="container mobile-menu" id="mobileMenu" role="menu" aria-label="Menú móvil">
      <div class="mobile-links">
        <a class="ghost" href="#beneficios" role="menuitem">Beneficios</a>
        <a class="ghost" href="#como-funciona" role="menuitem">Cómo funciona</a>
        <a class="ghost" href="#reviews" role="menuitem">Opiniones</a>
        <a class="ghost" href="suscripciones.html" role="menuitem">Suscripciones</a>
        <a class="btn" href="suscripciones.html" role="menuitem">¡Comenzar ahora!</a>
        <!-- Slot dinámico móvil -->
        <span id="acct-nav-slot-mobile" style="display:inline-flex;gap:10px;align-items:center;margin-top:8px"></span>
      </div>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="container hero-grid">
        <div>
          <h1>¿Imaginas subir la valoración de tu negocio <em>SIN HACER NADA</em>?</h1>
          <p class="lead">
            Aumenta tus reseñas, protege tu reputación y convierte opiniones en más clientes y más ingresos, sin mover un solo dedo.
          </p>
          <div class="pills" aria-label="Resultados clave">
            <div class="pill">Mejores reseñas en internet</div><div class="pill">Más clientes</div><div class="pill">Más dinero</div>
          </div>
          <div class="cta-row"><a class="btn" href="suscripciones.html">Ver suscripciones</a></div>
        </div>
      </div>
    </section>

    <!-- BENEFICIOS -->
    <section id="beneficios">
      <div class="container">
        <h2>¿Qué podrás conseguir gracias a nuestro sistema?</h2>
        <p class="lead">En Taply te aseguramos conseguir <strong>mejores reseñas</strong>, atraer <strong>más clientes</strong> y generar <strong>más ingresos</strong>, mientras escuchas de verdad a tus clientes.</p>
        <div class="grid-3" style="margin-top:20px">
          <article class="card"><h3>Crea un clima donde la opinión importa</h3><p>Tus clientes dejan su reseña con solo acercar el móvil al dispositivo. Sencillo, rápido y sin fricción.</p></article>
          <article class="card"><h3>Encuentra los puntos débiles</h3><p>Las reseñas negativas no se publican: se guardan en tu panel para analizarlas, filtrarlas por periodo y mejorar.</p></article>
          <article class="card"><h3>Gana dinero</h3><p>Con mejores valoraciones subes posiciones en el buscador, atraes más clientes y aumentas beneficios.</p></article>
        </div>
        <div class="cta-row"><a class="btn" href="suscripciones.html">Empezar ahora</a></div>
      </div>
    </section>

    <!-- OPINIONES -->
    <section class="reviews" id="reviews">
      <div class="container">
        <h2>Valorado 4,8/5 por más de 30 negocios</h2>

        <div class="reviews-window">
          <div class="reviews-track" id="reviewsTrack" tabindex="0" aria-label="Opiniones de clientes">
            <article class="review-card">
              <div class="review-header">
                <div class="review-avatar"><img loading="lazy" decoding="async" fetchpriority="low" src="https://i.pravatar.cc/110?img=26" alt="Sara Cordero" width="54" height="54"></div>
                <div><div class="review-name">Sara Cordero</div><div class="review-stars">★★★★★</div></div>
              </div>
              <p class="review-text">Instalación en 5 minutos. Los avisos de reseñas negativas nos han permitido corregir fallos de atención al cliente en días.</p>
            </article>

            <article class="review-card">
              <div class="review-header">
                <div class="review-avatar"><img loading="lazy" decoding="async" fetchpriority="low" src="https://i.pravatar.cc/110?img=33" alt="Marlon Melara" width="54" height="54"></div>
                <div><div class="review-name">Marlon Melara</div><div class="review-stars">★★★★★</div></div>
              </div>
              <p class="review-text">Una herramienta genial para ahorrar tiempo en reseñas y reputación online. Muy fácil de usar por el cliente.</p>
            </article>

            <article class="review-card">
              <div class="review-header">
                <div class="review-avatar"><img loading="lazy" decoding="async" fetchpriority="low" src="https://i.pravatar.cc/110?img=12" alt="Joan Blanch" width="54" height="54"></div>
                <div><div class="review-name">Joan Blanch</div><div class="review-stars">★★★★★</div></div>
              </div>
              <p class="review-text">Excelente herramienta. Llevamos semanas subiendo reseñas sin tener que pedirlo. El panel de negativas nos ha ayudado a mejorar procesos internos.</p>
            </article>

            <article class="review-card">
              <div class="review-header">
                <div class="review-avatar"><img loading="lazy" decoding="async" fetchpriority="low" src="https://i.pravatar.cc/110?img=5" alt="Eco Abraham" width="54" height="54"></div>
                <div><div class="review-name">Eco Abraham</div><div class="review-stars">★★★★★</div></div>
              </div>
              <p class="review-text">Nunca había conseguido tantas reseñas reales tan rápido. El flujo NFC es comodísimo para el cliente.</p>
            </article>
          </div>

          <div class="reviews-nav" aria-hidden="true">
            <button class="nav-btn" id="revPrev" aria-label="Anterior">‹</button>
            <button class="nav-btn" id="revNext" aria-label="Siguiente">›</button>
          </div>
        </div>
      </div>
    </section>

    <!-- COMO FUNCIONA -->
    <section id="como-funciona">
      <div class="container"><h2>Ahora bien... ¿Cómo funciona Taply?</h2></div>
      <div class="container grid-3">
        <div class="card">
          <h3>1) Acerca el móvil</h3>
          <p>Coloca los dispositivos <strong>Taply</strong> en las mesas de tu local. El cliente acerca su smartphone y de inmediato aparece la pantalla de valoración. Todo ocurre en segundos, sin necesidad de descargas ni aplicaciones extra.</p>
        </div>

        <div class="card">
          <h3>2) Enrutado inteligente</h3>
          <p>En la pantalla se le preguntará al cliente cómo ha sido su experiencia. Si responde que ha sido positiva, irá directamente a tu perfil de Google para dejar una reseña. Si responde que ha sido negativa, se le abrirá un formulario privado diseñado para tu negocio.</p>
        </div>

        <div class="card">
          <h3>3) Formulario privado</h3>
          <p>El formulario se adapta a tu negocio con las preguntas que quieras incluir: atención, tiempos de espera, calidad… Nosotros lo preparamos y conectamos a una hoja privada donde se guardan todas las respuestas.</p>
        </div>

        <div class="card">
          <h3>4) Aprende y mejora</h3>
          <p>Cada respuesta negativa queda registrada en esa hoja privada, que podrás consultar siempre que quieras. Allí verás gráficos, podrás filtrar por fechas y detectar patrones que te ayuden a mejorar sin que afecte a tu puntuación pública.</p>
        </div>

        <div class="card">
          <h3>5) Todo suma</h3>
          <p>Con mejores valoraciones subes en el buscador, aumentas la confianza y atraes más clientes. Puedes incentivar con un pequeño detalle (café, chupito o descuento).</p>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq">
      <div class="container faq">
        <h2>Preguntas frecuentes</h2>
        <div class="acc" role="tablist">
          <div class="acc-item">
            <button class="acc-btn" aria-expanded="false">¿En qué me puede ayudar Taply? <span>+</span></button>
            <div class="acc-panel"><div>
              Taply te ayuda a conseguir <strong>mejores reseñas</strong> con un flujo sin fricción y a <strong>escuchar</strong> al cliente:
              las positivas se publican en Google y las negativas se quedan en una hoja de control privada para que puedas actuar.
            </div></div>
          </div>
          <div class="acc-item">
            <button class="acc-btn" aria-expanded="false">¿Necesito algo especial para usarlo? <span>+</span></button>
            <div class="acc-panel"><div>
              Solo nuestro dispositivo NFC. Funciona con la mayoría de smartphones modernos sin instalar apps. Te mandamos también un QR por si lo prefieres.
            </div></div>
          </div>
          <div class="acc-item">
            <button class="acc-btn" aria-expanded="false">¿Puedo ver y filtrar reseñas negativas? <span>+</span></button>
            <div class="acc-panel"><div>
              Sí. En tu panel podrás <strong>ver todas</strong>, filtrarlas por periodos y detectar <strong>puntos de mejora</strong> del negocio.
            </div></div>
          </div>
          <div class="acc-item">
            <button class="acc-btn" aria-expanded="false">¿Realmente atraeré más clientes? <span>+</span></button>
            <div class="acc-panel"><div>
              Mejores valoraciones elevan tu visibilidad en el buscador y aumentan la confianza. Más visibilidad = más clientes.
            </div></div>
          </div>
        </div>
      </div>
    </section>

    <!-- SOCIALES -->
    <section class="socials">
      <div class="container">
        <div class="row">
          <a href="#" aria-label="YouTube" title="YouTube">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.95-1.96C18.92 4 12 4 12 4s-6.92 0-8.59.46A2.78 2.78 0 0 0 1.46 6.42 29.94 29.94 0 0 0 1 12a29.94 29.94 0 0 0 .46 5.58 2.78 2.78 0 0 0 1.95 1.96C5.08 20 12 20 12 20s6.92 0 8.59-.46a2.78 2.78 0 0 0 1.95-1.96A29.94 29.94 0 0 0 23 12a29.94 29.94 0 0 0-.46-5.58Z"/><path d="M10 15l5-3-5-3v6z" fill="currentColor" stroke="none"/></svg>
          </a>
          <a href="#" aria-label="Instagram" title="Instagram">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7"><rect x="3" y="3" width="18" height="18" rx="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><path d="M17.5 6.5h.01"/></svg>
          </a>
          <a href="#" aria-label="X / Twitter" title="X / Twitter">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2H21l-6.474 7.39L22 22h-6.828L9.94 14.65 2.9 22H0l6.95-7.93L2 2h6.828l4.01 6.585L18.244 2Zm-2.395 18h2.21L8.27 4h-2.21l9.79 16Z"/></svg>
          </a>
          <a href="#" aria-label="Facebook" title="Facebook">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M22 12a10 10 0 1 0-11.5 9.9v-7h-2v-2.9h2v-2.2c0-2 1.2-3.1 3-3.1.9 0 1.8.16 1.8.16v2h-1c-1 0-1.3.63-1.3 1.3v1.8h2.3L14.8 14.9h-2v7A10 10 0 0 0 22 12"/></svg>
          </a>
          <a href="#" aria-label="Telegram" title="Telegram">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M9.04 15.49 8.9 20a1 1 0 0 0 1.78.62l2.54-3.18 4.34 3.18a1 1 0 0 0 1.56-.6L22.98 4.1a1 1 0 0 0-1.38-1.1L1.67 10.17a1 1 0 0 0 .1 1.89l5.83 1.9 11.7-7.36-10.26 8.89Z"/></svg>
          </a>
          <a href="#" aria-label="Email" title="Email">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7"><rect x="3" y="5" width="18" height="14" rx="2"/><path d="M3 7l9 6 9-6"/></svg>
          </a>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer>
    <div class="container cols">
      <div>
        <div class="brand" style="margin-bottom:10px">
          <span class="brand-logo" aria-hidden="true"></span><span>taply</span>
        </div>
        <p style="color:#9fb0c8;max-width:560px">Tecnología NFC para convertir feedback en crecimiento real.</p>
      </div>
      <div>
        <p><a href="#beneficios">Beneficios</a></p>
        <p><a href="suscripciones.html">Suscripciones</a></p>
        <p><a href="suscripciones.html#cuenta">Mi cuenta</a></p>
      </div>
      <div>
        <p><a href="#como-funciona">Cómo funciona</a></p>
        <p><a href="suscripciones.html">Comenzar ahora</a></p>
      </div>
    </div>
  </footer>

  <!-- Cookie bar -->
  <div class="cookiebar" id="cookiebar" role="dialog" aria-live="polite" aria-label="Aviso de cookies">
    <p>
      Usamos cookies en nuestra página web para ver cómo interactúas con ella. 
      Al aceptarlas, estás de acuerdo con nuestro uso de dichas cookies. 
      <a href="#" style="color:#b3e1ff;text-decoration:underline">Política de privacidad</a>
    </p>
    <button class="btn-accept" id="cookieAccept">Aceptar</button>
  </div>

  <script>
    // Carga suave
    window.addEventListener('load', () => document.body.classList.add('is-loaded'));

    // Menú móvil (toggle + cerrar al elegir)
    const menuBtn=document.getElementById('menuBtn');
    const mobileMenu=document.getElementById('mobileMenu');
    menuBtn?.addEventListener('click', ()=> {
      const open = mobileMenu.style.display === 'block';
      mobileMenu.style.display = open ? 'none' : 'block';
      menuBtn.setAttribute('aria-expanded', String(!open));
    });
    mobileMenu?.addEventListener('click', (e)=>{
      const a = e.target.closest('a');
      if(a){ mobileMenu.style.display='none'; menuBtn.setAttribute('aria-expanded','false'); }
    });
    window.addEventListener('resize', ()=>{
      if(window.innerWidth > 768){ mobileMenu.style.display='none'; menuBtn.setAttribute('aria-expanded','false'); }
    });

    // FAQ
    document.querySelectorAll('.acc-btn').forEach(btn=>{
      btn.setAttribute('aria-expanded','false');
      const panel=btn.nextElementSibling; if(panel) panel.style.maxHeight='0px';
      btn.addEventListener('click',()=>{
        const open=btn.getAttribute('aria-expanded')==='true';
        document.querySelectorAll('.acc-btn').forEach(b=>{
          b.setAttribute('aria-expanded','false');
          const p=b.nextElementSibling; if(p) p.style.maxHeight='0px';
        });
        if(!open){btn.setAttribute('aria-expanded','true'); if(panel) panel.style.maxHeight=panel.scrollHeight+'px';}
      });
    });

    // Carrusel opiniones
    (function(){
      const track=document.getElementById('reviewsTrack');
      const prev=document.getElementById('revPrev');
      const next=document.getElementById('revNext');
      if(!track||!prev||!next) return;

      const step=()=>{
        const first=track.querySelector('.review-card');
        const gap=parseInt(getComputedStyle(track).gap||'22',10);
        const width=first ? Math.round(first.getBoundingClientRect().width) : 360;
        return width + gap;
      };
      const atStart=()=>track.scrollLeft<=2;
      const atEnd =()=>track.scrollLeft+track.clientWidth>=track.scrollWidth-2;

      function update(){ prev.classList.toggle('disabled',atStart()); next.classList.toggle('disabled',atEnd()); }

      prev.addEventListener('click',()=>{ if(!prev.classList.contains('disabled')) track.scrollBy({left:-step(),behavior:'smooth'}); });
      next.addEventListener('click',()=>{ if(!next.classList.contains('disabled')) track.scrollBy({left: step(),behavior:'smooth'}); });
      track.addEventListener('keydown',(e)=>{ if(e.key==='ArrowRight') next.click(); if(e.key==='ArrowLeft') prev.click(); });
      track.addEventListener('scroll',update,{passive:true});
      window.addEventListener('resize',update);
      update();
    })();

    // Cookies
    (function(){
      const KEY='taply_cookie_consent';
      const bar=document.getElementById('cookiebar');
      const btn=document.getElementById('cookieAccept');
      if(localStorage.getItem(KEY)==='1'){ bar.style.display='none'; }
      btn.addEventListener('click',()=>{ localStorage.setItem(KEY,'1'); bar.style.display='none'; });
    })();

    // Ripple en .btn
    document.addEventListener('click',(e)=>{
      const b=e.target.closest('.btn'); if(!b) return;
      const r=document.createElement('span'); r.className='ripple';
      const rect=b.getBoundingClientRect();
      r.style.left=(e.clientX-rect.left)+'px'; r.style.top=(e.clientY-rect.top)+'px';
      b.appendChild(r); r.addEventListener('animationend',()=>r.remove());
    });
  </script>

  <!-- === MODAL CUENTA (login/registro) === -->
  <div id="acct-modal" class="acct-hidden" role="dialog" aria-modal="true" aria-labelledby="acct-title">
    <div class="acct-dialog">
      <div class="acct-head">
        <h3 id="acct-title" style="margin:0">Accede a tu cuenta</h3>
        <button id="acct-close" class="acct-x" aria-label="Cerrar">×</button>
      </div>
      <p id="acct-msg" class="acct-msg"></p>
      <div class="acct-tabs">
        <button class="acct-tab acct-tab-active" data-tab="login">Iniciar sesión</button>
        <button class="acct-tab" data-tab="register">Registrarse</button>
      </div>

      <form id="acct-form-login" class="acct-form" autocomplete="on">
        <label>Email <input id="acct-login-email" type="email" required autocomplete="email"></label>
        <label>Contraseña <input id="acct-login-pass" type="password" required autocomplete="current-password"></label>
        <button type="submit" class="btn">Entrar</button>
        <div class="acct-small">¿Olvidaste la contraseña? <span id="acct-forgot" class="acct-link">Recuperar</span></div>
        <p id="acct-error-login" class="acct-err" style="display:none"></p>
      </form>

      <form id="acct-form-register" class="acct-form acct-hidden" autocomplete="on">
        <label>Nombre (opcional) <input id="acct-reg-name" type="text" autocomplete="name"></label>
        <label>Email <input id="acct-reg-email" type="email" required autocomplete="email"></label>
        <label>Contraseña <input id="acct-reg-pass" type="password" required minlength="6" autocomplete="new-password"></label>
        <button type="submit" class="btn">Crear cuenta</button>
        <p id="acct-error-register" class="acct-err" style="display:none"></p>
      </form>
    </div>
  </div>

  <!-- === ADDON CUENTA: menú “Tu plan / Mi suscripción”, login, portal === -->
  <script>
  (function(){
    const S = { user:null };

    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));
    const getPlanName = (u) =>
      u?.subscription?.plan?.nickname || u?.subscription?.price?.nickname ||
      u?.subscription?.tier || u?.subscription_tier || u?.plan || '';
    // Modal
    const modal = $('#acct-modal');
    const msg = $('#acct-msg');
    const closeBtn = $('#acct-close');
    const tabBtns = $$('#acct-modal .acct-tab');
    const formLogin = $('#acct-form-login');
    const formReg = $('#acct-form-register');
    const errLogin = $('#acct-error-login');
    const errReg = $('#acct-error-register');

    function showModal(text){
      msg.textContent = text || 'Inicia sesión para continuar';
      modal.classList.remove('acct-hidden');
      setTab('login');
      setTimeout(()=>$('#acct-login-email')?.focus(),50);
    }
    function hideModal(){ modal.classList.add('acct-hidden'); errLogin.style.display='none'; errReg.style.display='none'; }
    function setTab(name){
      const onLogin = name === 'login';
      formLogin?.classList.toggle('acct-hidden', !onLogin);
      formReg?.classList.toggle('acct-hidden', onLogin);
      tabBtns.forEach(b => b.classList.toggle('acct-tab-active', b.dataset.tab === name));
    }
    closeBtn?.addEventListener('click', hideModal);
    modal?.addEventListener('click', e=>{ if(e.target === modal) hideModal(); });
    tabBtns.forEach(b => b.addEventListener('click', ()=> setTab(b.dataset.tab)));

    async function api(method, url, body){
      const res = await fetch(url, { method, headers:{'Content-Type':'application/json'}, body: body?JSON.stringify(body):undefined });
      let data=null; try{ data = await res.json(); }catch{}
      if(!res.ok) throw (data?.error || `HTTP ${res.status}`);
      return data;
    }
    async function getSession(){
      try{ const data = await api('GET','/api/session'); setUser(data?.user || null); }
      catch{ setUser(null); }
    }
    function setUser(u){
      S.user = u;
      try{ localStorage.setItem('acct_user', u ? JSON.stringify(u) : ''); }catch{}
      paintNav();
    }

    function paintNav(){
      const slot1 = document.getElementById('acct-nav-slot');
      const slot2 = document.getElementById('acct-nav-slot-mobile');
      const plan = getPlanName(S.user);
      const label = plan ? `Tu plan: ${plan}` : 'Mi suscripción';

      const htmlLogged = `
        <a class="ghost" href="suscripciones.html#cuenta" title="${S.user?.email || 'cuenta'}">${label}</a>
        <a class="ghost" id="acct-logout-nav">Salir</a>
      `;
      const htmlAnon = `<a class="ghost" id="acct-open-nav">Iniciar sesión</a>`;

      if(slot1) slot1.innerHTML = S.user ? htmlLogged : htmlAnon;
      if(slot2) slot2.innerHTML = S.user ? htmlLogged : htmlAnon;

      document.querySelectorAll('#acct-open-nav').forEach(el => el.addEventListener('click', ()=> showModal()));
      document.querySelectorAll('#acct-logout-nav').forEach(el => el.addEventListener('click', async (e)=>{
        e.preventDefault();
        try{ await api('POST','/api/logout',{}); }catch{}
        setUser(null);
        alert('Sesión cerrada');
      }));
    }

    formLogin?.addEventListener('submit', async (e)=>{
      e.preventDefault(); errLogin.style.display='none';
      const email = $('#acct-login-email').value.trim();
      const password = $('#acct-login-pass').value;
      try{
        const data = await api('POST','/api/login',{ email, password });
        setUser(data?.user || null);
        hideModal();
      }catch(err){ errLogin.textContent = String(err); errLogin.style.display='block'; }
    });

    formReg?.addEventListener('submit', async (e)=>{
      e.preventDefault(); errReg.style.display='none';
      const name = $('#acct-reg-name').value.trim() || undefined;
      const email = $('#acct-reg-email').value.trim();
      const password = $('#acct-reg-pass').value;
      try{
        const data = await api('POST','/api/register',{ name, email, password });
        setUser(data?.user || null);
        hideModal();
      }catch(err){ errReg.textContent = String(err); errReg.style.display='block'; }
    });

    // Abridores
    document.body.addEventListener('click',(e)=>{
      const a = e.target.closest('a[href="suscripciones.html#cuenta"]');
      if(a && !S.user){ e.preventDefault(); showModal('Inicia sesión para ver tu suscripción.'); }
    });

    getSession();
  })();
  </script>
</body>
</html>
